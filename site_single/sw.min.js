importScripts("./cache-polyfill.js");var cacheName="v1",cacheFiles=["./"];self.addEventListener("install",function(e){console.log("[ServiceWorker] Install",cacheName),e.waitUntil(caches.open(cacheName).then(function(e){return e.addAll(cacheFiles)}))}),self.addEventListener("fetch",function(e){console.log("[ServiceWorker] Fetch",e.request.url),e.respondWith(caches.match(e.request).then(function(c){return c||fetch(e.request)}))}),self.addEventListener("activate",function(e){console.log("[ServiceWorker] Activate"),e.waitUntil(caches.keys().then(function(e){return Promise.all(e.map(function(e){if(-1===cacheName.indexOf(e))return caches.delete(e)}))}))});